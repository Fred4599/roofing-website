---
import BaseLayout from '../layouts/BaseLayout.astro';
import HeroSection from '../components/HeroSection.astro';
import TrustBadges from '../components/TrustBadges.astro';
import HowItWorks from '../components/HowItWorks.astro';
import FAQ from '../components/FAQ.astro';
import CityGrid from '../components/CityGrid.astro';
import CTASection from '../components/CTASection.astro';
import { siteConfig } from '../config/site';

const processSteps = [
  {
    number: 1,
    title: 'Emergency Response',
    description: 'Call us immediately after storm damage. We prioritize emergency calls and respond quickly.',
  },
  {
    number: 2,
    title: 'Damage Assessment',
    description: 'Thorough inspection documenting all damage with photos and detailed notes for your records.',
  },
  {
    number: 3,
    title: 'Temporary Protection',
    description: 'If needed, we secure tarps or emergency repairs to prevent further damage to your home.',
  },
  {
    number: 4,
    title: 'Insurance Coordination',
    description: 'We provide documentation and meet with your adjuster to ensure fair claim assessment.',
  },
  {
    number: 5,
    title: 'Quality Repairs',
    description: 'Once approved, we complete repairs or replacement with quality materials and workmanship.',
  },
];

const damageTypes = [
  { type: 'Hail Damage', description: 'Dented, cracked, or bruised shingles. Loss of granules exposing asphalt.' },
  { type: 'Wind Damage', description: 'Lifted, torn, or missing shingles. Exposed underlayment or decking.' },
  { type: 'Fallen Debris', description: 'Tree branches or limbs causing punctures, tears, or structural damage.' },
  { type: 'Rain & Water', description: 'Leaks, water intrusion, and damage from prolonged exposure after initial damage.' },
];

const faqs = [
  {
    question: 'What should I do immediately after a storm?',
    answer: 'First, ensure everyone is safe. Document visible damage with photos from the ground (don\'t climb on the roof). Call your insurance company to report the damage, then contact us for a professional assessment. Don\'t wait—some policies have time limits for filing claims.',
  },
  {
    question: 'How do I know if my roof has storm damage?',
    answer: 'Look for missing shingles, dents in metal vents or gutters, granules in downspouts, water stains on ceilings, or debris on the roof. However, much storm damage isn\'t visible from the ground—hail damage especially requires professional inspection.',
  },
  {
    question: 'Will my insurance cover storm damage?',
    answer: 'Most homeowners insurance covers storm damage including wind, hail, and fallen trees. Coverage varies by policy and deductible. We document all damage thoroughly and work with your adjuster to help ensure fair coverage.',
  },
  {
    question: 'How long do I have to file a claim?',
    answer: 'Policies vary, but most require damage to be reported within 1 year of the storm. However, we recommend filing as soon as possible—the sooner we can inspect and document damage, the better for your claim.',
  },
];

const serviceSchema = {
  '@context': 'https://schema.org',
  '@type': 'Service',
  serviceType: 'Storm Damage Roof Repair',
  provider: { '@type': 'RoofingContractor', name: siteConfig.siteName },
  areaServed: siteConfig.serviceAreas.map((area) => ({ '@type': 'City', name: area.name })),
};
---

<BaseLayout
  title="Storm Damage Roof Repair in Boise"
  description="Emergency storm damage roof repair in Boise, Meridian, Eagle, and Garden City. Hail, wind, and debris damage. Insurance claim experts. Fast response."
  canonicalPath="/storm-damage-roof-repair"
  schema={serviceSchema}
>
  <HeroSection
    title="Storm Damage Roof Repair"
    subtitle="When severe weather strikes, we're here to help. Fast response, thorough documentation, and quality repairs to restore your home's protection."
    ctaText={`Emergency: ${siteConfig.phone}`}
    ctaHref={`tel:${siteConfig.phone.replace(/[^0-9]/g, '')}`}
    secondaryCtaText="Request Assessment"
    secondaryCtaHref="/contact"
  />

  <section class="emergency-alert">
    <div class="container">
      <div class="alert-content">
        <div class="alert-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />
          </svg>
        </div>
        <div>
          <h2>Recent Storm Damage?</h2>
          <p>Don't wait. Call us now for emergency assessment and temporary protection if needed.</p>
        </div>
        <a href={`tel:${siteConfig.phone.replace(/[^0-9]/g, '')}`} class="btn btn-secondary btn-lg">
          Call {siteConfig.phone}
        </a>
      </div>
    </div>
  </section>

  <TrustBadges variant="compact" />

  <section class="section">
    <div class="container">
      <h2 class="text-center">Types of Storm Damage We Repair</h2>
      <div class="damage-grid">
        {
          damageTypes.map((damage) => (
            <div class="damage-card">
              <h3>{damage.type}</h3>
              <p>{damage.description}</p>
            </div>
          ))
        }
      </div>
    </div>
  </section>

  <HowItWorks
    steps={processSteps}
    title="Our Storm Damage Process"
    subtitle="From emergency response to completed repairs, we guide you through every step."
  />

  <section class="section">
    <div class="container">
      <div class="two-column">
        <div class="column-content">
          <h2>Why Choose Us for Storm Damage?</h2>
          <p>
            After a storm, you need a contractor you can trust. Many companies chase storms looking for easy work—we're
            different. We're local, we're established, and we'll be here long after the repair is complete.
          </p>
          <ul class="benefits-list">
            <li><strong>Local Company:</strong> We live and work in the Treasure Valley. We're not storm chasers.</li>
            <li><strong>Insurance Expertise:</strong> We've handled hundreds of claims and know the process inside out.</li>
            <li><strong>Thorough Documentation:</strong> Photos, measurements, and detailed reports for your claim.</li>
            <li><strong>Fair Assessments:</strong> We tell you what you actually need—repair when possible, replacement when necessary.</li>
            <li><strong>Quality Materials:</strong> We use the same premium materials on insurance jobs as all our work.</li>
            <li><strong>Warranty Protection:</strong> Full warranties on all storm damage repairs.</li>
          </ul>
          <a href="/insurance-roof-claims" class="btn btn-primary">Learn About Insurance Claims</a>
        </div>
        <div class="column-image">
          <div class="image-placeholder">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M19 16.9A5 5 0 0018 7h-1.26a8 8 0 10-11.62 9" />
              <path d="M13 11l-4 6h6l-4 6" />
            </svg>
            <span>Storm Damage Photo</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <FAQ faqs={faqs} title="Storm Damage FAQs" />

  <CityGrid
    title="Storm Damage Services Throughout the Valley"
    description="We respond to storm damage calls in Boise, Meridian, Eagle, Garden City, and surrounding areas."
  />

  <CTASection
    title="Don't Wait to Address Storm Damage"
    subtitle="Delaying repairs can lead to additional damage and complicate insurance claims. Contact us today for a free assessment."
    variant="default"
  />
</BaseLayout>

<style>
  .emergency-alert {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    padding: var(--spacing-lg) 0;
    border-bottom: 3px solid var(--color-accent);
  }

  .alert-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    gap: var(--spacing-md);
  }

  .alert-icon {
    width: 48px;
    height: 48px;
    color: var(--color-accent);
  }

  .alert-icon svg {
    width: 100%;
    height: 100%;
  }

  .alert-content h2 {
    margin-bottom: 4px;
  }

  .alert-content p {
    margin: 0;
    color: var(--color-text);
  }

  .damage-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--spacing-md);
    margin-top: var(--spacing-xl);
  }

  .damage-card {
    background-color: var(--color-bg-alt);
    padding: var(--spacing-lg);
    border-radius: var(--border-radius);
    border-left: 4px solid var(--color-secondary);
  }

  .damage-card h3 {
    font-size: 1.125rem;
    margin-bottom: var(--spacing-xs);
  }

  .damage-card p {
    color: var(--color-text-light);
    margin: 0;
    font-size: 0.9375rem;
  }

  .two-column {
    display: grid;
    grid-template-columns: 1fr;
    gap: var(--spacing-xl);
    align-items: center;
  }

  .column-content h2 {
    margin-bottom: var(--spacing-md);
  }

  .column-content > p {
    color: var(--color-text-light);
    margin-bottom: var(--spacing-md);
  }

  .benefits-list {
    list-style: none;
    margin-bottom: var(--spacing-lg);
  }

  .benefits-list li {
    position: relative;
    padding-left: 1.75rem;
    margin-bottom: var(--spacing-sm);
  }

  .benefits-list li::before {
    content: '✓';
    position: absolute;
    left: 0;
    color: var(--color-primary);
    font-weight: 700;
  }

  .image-placeholder {
    aspect-ratio: 4 / 3;
    background-color: var(--color-bg-alt);
    border-radius: var(--border-radius);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: var(--color-text-light);
    gap: var(--spacing-xs);
  }

  .image-placeholder svg {
    width: 64px;
    height: 64px;
    opacity: 0.5;
  }

  @media (min-width: 768px) {
    .alert-content {
      flex-direction: row;
      text-align: left;
    }

    .alert-content > div {
      flex: 1;
    }
  }

  @media (min-width: 992px) {
    .two-column {
      grid-template-columns: 1.2fr 0.8fr;
    }
  }
</style>
