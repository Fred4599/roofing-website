---
import { siteConfig } from '../config/site';

interface Props {
  title?: string;
  subtitle?: string;
  showServiceSelect?: boolean;
}

const {
  title = 'Request Your Free Estimate',
  subtitle = "Fill out the form below and we'll get back to you within 24 hours.",
  showServiceSelect = true,
} = Astro.props;

const services = [
  'Roof Replacement',
  'Roof Repair',
  'New Roof Installation',
  'Metal Roofing',
  'Storm Damage Repair',
  'Insurance Claim Assistance',
  'Siding Installation',
  'Siding Repair',
  'Other',
];
---

<section id="contact" class="py-24 bg-white border-b border-slate-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-start">
            <!-- Content -->
            <div class="">
                <h2 class="text-3xl font-semibold tracking-tight mb-4 text-slate-900">{title}</h2>
                <p class="text-lg text-slate-500 mb-8">
                    {subtitle}
                </p>
                
                <div class="space-y-6">
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <div class="w-8 h-8 rounded-full flex items-center justify-center bg-yellow-100 text-yellow-600">
                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="16" height="16" viewBox="0 0 24 24" class="iconify"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path><circle cx="12" cy="10" r="3"></circle></g></svg>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h4 class="text-sm font-medium text-slate-900">Service Area</h4>
                            <p class="text-sm text-slate-500 mt-1">Treasure Valley, Idaho</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <div class="w-8 h-8 rounded-full flex items-center justify-center bg-yellow-100 text-yellow-600">
                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="16" height="16" viewBox="0 0 24 24" class="iconify"><path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233a14 14 0 0 0 6.392 6.384"></path></svg>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h4 class="text-sm font-medium text-slate-900">Direct Line</h4>
                            <p class="text-sm text-slate-500 mt-1">{siteConfig.phone}</p>
                        </div>
                    </div>
                    <div class="flex items-start">
                        <div class="flex-shrink-0 mt-1">
                            <div class="w-8 h-8 rounded-full flex items-center justify-center bg-yellow-100 text-yellow-600">
                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="16" height="16" viewBox="0 0 24 24" class="iconify"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="m22 7l-8.991 5.727a2 2 0 0 1-2.009 0L2 7"></path><rect width="20" height="16" x="2" y="4" rx="2"></rect></g></svg>
                            </div>
                        </div>
                        <div class="ml-4">
                            <h4 class="text-sm font-medium text-slate-900">Email</h4>
                            <p class="text-sm text-slate-500 mt-1">{siteConfig.email}</p>
                        </div>
                    </div>
                </div>

                <div class="mt-10">
                     <p class="text-sm font-medium text-slate-900">
                        Business Hours:
                    </p>
                    <p class="text-sm text-slate-500 mt-1">
                        Mon-Fri: {siteConfig.businessHours.weekdays}<br />
                        Sat: {siteConfig.businessHours.saturday}
                    </p>
                </div>
            </div>

            <!-- Form -->
            <div class="relative rounded-2xl p-8 border overflow-hidden bg-slate-50 border-slate-200 shadow-sm">
                <form class="space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="firstName" class="block text-sm font-medium text-slate-700 mb-1">First Name</label>
                            <input type="text" id="firstName" name="firstName" required class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all outline-none bg-white" />
                        </div>
                        <div>
                            <label for="lastName" class="block text-sm font-medium text-slate-700 mb-1">Last Name</label>
                            <input type="text" id="lastName" name="lastName" required class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all outline-none bg-white" />
                        </div>
                    </div>
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                        <div>
                            <label for="email" class="block text-sm font-medium text-slate-700 mb-1">Email</label>
                            <input type="email" id="email" name="email" required class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all outline-none bg-white" />
                        </div>
                        <div>
                            <label for="phone" class="block text-sm font-medium text-slate-700 mb-1">Phone</label>
                            <input type="tel" id="phone" name="phone" required class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all outline-none bg-white" />
                        </div>
                    </div>
                    {showServiceSelect && (
                        <div>
                            <label for="service" class="block text-sm font-medium text-slate-700 mb-1">Service Needed</label>
                            <select id="service" name="service" required class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all outline-none bg-white">
                                <option value="">Select a service</option>
                                {services.map((service) => (
                                    <option value={service}>{service}</option>
                                ))}
                            </select>
                        </div>
                    )}
                    <div>
                        <label for="message" class="block text-sm font-medium text-slate-700 mb-1">Project Details</label>
                        <textarea id="message" name="message" rows="4" class="w-full px-4 py-2 rounded-lg border border-slate-200 focus:ring-2 focus:ring-yellow-400 focus:border-yellow-400 transition-all outline-none bg-white"></textarea>
                    </div>
                    <button type="submit" class="w-full py-4 px-6 rounded-lg bg-yellow-400 hover:bg-yellow-500 text-slate-900 font-semibold shadow-lg hover:shadow-xl transition-all hover:-translate-y-0.5">
                        Request Free Estimate
                    </button>
                    <p class="text-center text-xs text-slate-400 mt-4">
                        We'll get back to you within 24 hours. No obligation.
                    </p>
                </form>
            </div>
        </div>
    </div>
</section>
