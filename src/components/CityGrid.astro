---
import { siteConfig } from '../config/site';

interface Props {
  title?: string;
  description?: string;
  highlightedCity?: string;
}

const {
  title = 'Serving the Treasure Valley',
  description = 'We provide professional roofing and siding services throughout Ada County and the surrounding areas.',
  highlightedCity,
} = Astro.props;
---

<section class="py-24 bg-white border-b border-slate-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-16 items-center">
            <!-- Content -->
            <div class="">
                <h2 class="text-3xl font-semibold tracking-tight mb-4 text-slate-900">{title}</h2>
                <p class="text-lg text-slate-500 mb-8">
                    {description}
                </p>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    {siteConfig.serviceAreas.map((area) => (
                        <a 
                            href={`/locations/${area.slug}`}
                            class={`flex items-center p-4 rounded-xl border transition-all ${highlightedCity === area.name ? 'bg-yellow-50 border-yellow-200' : 'bg-slate-50 border-slate-200 hover:border-yellow-400'}`}
                        >
                            <div class={`w-8 h-8 rounded-full flex items-center justify-center mr-4 ${highlightedCity === area.name ? 'bg-yellow-400 text-slate-900' : 'bg-yellow-100 text-yellow-600'}`}>
                                <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" width="16" height="16" viewBox="0 0 24 24" class="iconify"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0"></path><circle cx="12" cy="10" r="3"></circle></g></svg>
                            </div>
                            <div>
                                <h4 class="text-sm font-semibold text-slate-900">{area.name}, {area.state}</h4>
                                <p class="text-xs text-slate-500">View local services</p>
                            </div>
                        </a>
                    ))}
                </div>

                <div class="mt-10">
                     <a href="/locations/boise-id" class="text-sm font-medium underline underline-offset-4 transition-all text-slate-900 decoration-slate-300 hover:decoration-yellow-400">
                        View our complete service area map
                    </a>
                </div>
            </div>

            <!-- Abstract Map Graphic -->
            <div class="relative rounded-2xl p-4 border aspect-video flex items-center justify-center overflow-hidden bg-slate-50 border-slate-200">
                <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGNpcmNsZSBjeD0iMiIgY3k9IjIiIHI9IjEiIGZpbGw9IiNjYmQ1ZTEiLz48L3N2Zz4=')] opacity-50"></div>
                
                <div class="w-3/4 h-3/4 relative">
                    <!-- Connecting Lines -->
                    <div class="absolute top-1/2 left-1/4 w-1/2 h-px bg-slate-300"></div>
                    <div class="absolute top-1/4 left-1/2 h-1/2 w-px bg-slate-300"></div>
                    <div class="absolute top-1/3 left-1/3 w-24 h-px rotate-45 bg-slate-300"></div>

                    <!-- Nodes -->
                    <div class="absolute top-1/2 left-1/2 -ml-2 -mt-2">
                         <span class="relative flex h-4 w-4">
                          <span class="animate-ping absolute inline-flex h-full w-full rounded-full opacity-75 bg-yellow-400"></span>
                          <span class="relative inline-flex rounded-full h-4 w-4 bg-yellow-500 border-2 border-white"></span>
                        </span>
                    </div>
                    <div class="absolute top-1/4 left-1/3 w-3 h-3 rounded-full border-2 bg-slate-300 border-white"></div>
                    <div class="absolute bottom-1/3 right-1/4 w-3 h-3 rounded-full border-2 bg-slate-300 border-white"></div>
                    <div class="absolute top-1/2 left-1/4 w-3 h-3 rounded-full border-2 bg-slate-300 border-white"></div>
                    
                    <div class="absolute bottom-4 left-4 backdrop-blur px-3 py-1 rounded shadow-sm border text-xs font-semibold bg-white/90 border-slate-100 text-slate-700">
                        Treasure Valley Coverage
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
